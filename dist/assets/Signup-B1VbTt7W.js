const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginRotate-PzgBvftE.js","assets/index-DK1BDKGD.js","assets/index-CGX9qSk3.css","assets/ModalsSystem-Du28IU22.js","assets/chunk-UVUR7MCU-Dbi6v9Kw.js","assets/ForgotPassword-ChmNfcAN.js","assets/chunk-7OLJDQMT-DLU5gO0J.js","assets/chunk-CWVAJCXJ-DTRhzuvr.js"])))=>i.map(i=>d[i]);
import{r,ae as F,a9 as U,aa as i,am as H,ad as I,G as M,j as e,S as v,B as c,af as l,aj as d,ag as m,s as j,ah as N,al as z,_ as G}from"./index-DK1BDKGD.js";import{u as V,a as $}from"./ModalsSystem-Du28IU22.js";import{C as O}from"./chunk-CWVAJCXJ-DTRhzuvr.js";import{u as D,H as W}from"./chunk-7OLJDQMT-DLU5gO0J.js";import{B as J}from"./chunk-UVUR7MCU-Dbi6v9Kw.js";const P=r.lazy(()=>G(()=>import("./LoginRotate-PzgBvftE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),te=()=>{const[a,R]=r.useState(!1),[f,K]=r.useState(""),k=F(),{replaceContent:q}=V(),_=U().shape({fname:i().required("First Name is required"),lname:i().required("Last Name is required"),email:i().email("Enter Valid Email").required("Email is required"),password:i().min(8,"At least 8 words").required("Password is required"),confirm:i().oneOf([H("password"),null],"Passwords must match").required("Confirm your password")}),{register:o,handleSubmit:A,watch:n,formState:{errors:s,isValid:Q},reset:B}=I({mode:"onSubmit",resolver:N(_)}),g=n("fname"),w=n("lname"),S=n("email");n("password"),n("confirm");const p=D(),C=r.useRef(),y=r.useRef(),E=r.useRef();r.useEffect(()=>{const h=setTimeout(()=>{const t=[C,y,E],u=[g,w,S];t.forEach((x,b)=>{x.current&&x.current.value!==u[b]&&(x.current.value=u[b])})},100);return()=>clearTimeout(h)},[g,w,S]);const L=async h=>{try{const t=await z.post("http://localhost:5000/signup/register",h);console.log(t),p({title:"Sign Up Success",description:"",status:"success",duration:2e3}),B(),setTimeout(()=>{q(e.jsx(P,{}))},2e3)}catch(t){if(console.error("Error:",t),t.response){const u=t.response.data||"An error occurred during sign up";p({title:"Sign Up Error",description:u,status:"error",duration:2e3})}else p({title:"Sign Up Error",description:"An unexpected error occurred. Please try again.",status:"error",duration:2e3})}},T=()=>R(!a),{setModalState:X}=r.useContext(M);return e.jsxs(e.Fragment,{children:[e.jsxs(v,{direction:"column",marginBottom:"2",justifyContent:"center",alignItems:"center",children:[e.jsx(W,{color:"teal.400",children:"Sign Up"}),e.jsx(c,{minW:{base:"90%",md:"468px"},children:e.jsx("form",{onSubmit:A(L),children:e.jsxs(v,{spacing:4,p:"1rem",backgroundColor:"white",boxShadow:"md",children:[e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"text",ref:C,placeholder:"First Name",...o("fname")})}),s.fname&&e.jsx("p",{children:s.fname.message})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"text",ref:y,placeholder:"Last Name",...o("lname")})}),s.lname&&e.jsx("p",{children:s.lname.message})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"email",ref:E,placeholder:"Email Address",...o("email")})}),s.email&&e.jsx("p",{children:s.email.message}),f&&e.jsx("p",{children:f})]}),e.jsxs(j,{children:[e.jsx(l,{children:e.jsx(d,{children:e.jsx(m,{type:a?"text":"password",placeholder:"Password",...o("password")})})}),e.jsx(l,{children:e.jsx(d,{children:e.jsx(m,{type:a?"text":"password",placeholder:"Confirm Password",...o("confirm")})})})]}),e.jsxs(j,{width:"100%",justifyContent:"space-between",textStyle:"StyledText",fontSize:"1rem",color:"#000000",children:[e.jsxs(c,{children:[s.password&&e.jsx("p",{children:s.password.message}),!s.password&&s.confirm&&e.jsx("p",{children:s.confirm.message}),k?e.jsx("p",{children:"Caps Lock is active!"}):null]}),e.jsx(c,{justifyContent:"end",children:e.jsx(O,{size:"sm",isChecked:a,onChange:T,children:a?"Hide Password":"Show Password"})})]}),e.jsx(J,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Sign Up"})]})})})]}),e.jsx(c,{children:e.jsxs(j,{width:"fit-content",margin:"auto",children:[e.jsxs(c,{children:["Already have an account? "," "]}),e.jsx($,{color:"teal.500",nest:!0,targetContent:e.jsx(P,{}),children:"Login"})]})})]})};export{te as default};
