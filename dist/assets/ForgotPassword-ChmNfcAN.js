import{r as i,ae as f,ad as j,j as e,S as c,T as S,B as b,af as w,ag as E,ah as g,al as y,a9 as k,aa as v}from"./index-DK1BDKGD.js";import{u as B,H as C}from"./chunk-7OLJDQMT-DLU5gO0J.js";import{B as P}from"./chunk-UVUR7MCU-Dbi6v9Kw.js";const R=k().shape({email:v().email("Please Enter Valid Email").required("Please Enter Your Email")}),$=()=>{const[T,d]=i.useState(""),u=f(),{register:m,handleSubmit:h,watch:p,formState:{errors:n,isValid:F},reset:q}=j({mode:"onSubmit",resolver:g(R)}),t=p("email"),l=B(),s=i.useRef();i.useEffect(()=>{const r=setTimeout(()=>{s.current&&s.current.value!==t&&(s.current=t)},100);return()=>clearTimeout(r)},[t]);const x=async r=>{try{const a={...r};let o=await y.post("http://localhost:5000/forgotpassword/send",a);o.status===200?l({title:"A verification email has been sent",description:"Please click on the link in the email.",status:"success",duration:3e3}):o.status===400&&(d(await o.text()),l({title:"User does not exist",description:"Please use another address",status:"error",duration:3e3}))}catch(a){console.error("Error:",a)}};return e.jsxs(c,{direction:"column",marginBottom:"2",justifyContent:"center",alignItems:"center",children:[e.jsx(C,{color:"teal.400",children:"Reset your password"}),e.jsxs(S,{color:"teal.400",children:["Enter your email address and weâ€™ll",e.jsx("br",{}),"send you a link to reset your password"]}),e.jsx(b,{minW:{base:"90%",md:"468px"},children:e.jsx("form",{onSubmit:h(x),children:e.jsxs(c,{spacing:4,p:"1rem",backgroundColor:"white",boxShadow:"md",children:[e.jsxs(w,{children:[e.jsx(E,{ref:s,placeholder:"email address",...m("email")}),n.email&&e.jsx("p",{children:n.email.message})]}),u?e.jsx("p",{children:"Caps Lock is active!"}):null,e.jsx(P,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Submit"})]})})})]})};export{$ as default};
