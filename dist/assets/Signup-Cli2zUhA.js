const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginRotate-ySgjwLn_.js","assets/index-CSaA1nFA.js","assets/index-CGX9qSk3.css","assets/ModalsSystem-uwFOgr8A.js","assets/chunk-UVUR7MCU-jy_K_3Vu.js","assets/ForgotPassword-1eQZaqRk.js","assets/chunk-7OLJDQMT-B2iVonpa.js","assets/chunk-CWVAJCXJ-Bu8JRnmM.js"])))=>i.map(i=>d[i]);
import{r,ae as F,a9 as U,aa as i,am as z,ad as H,K as I,j as e,S as v,B as c,af as l,aj as d,ag as m,q as j,ah as M,al as N,_ as $}from"./index-CSaA1nFA.js";import{u as V,a as G}from"./ModalsSystem-uwFOgr8A.js";import{C as O}from"./chunk-CWVAJCXJ-Bu8JRnmM.js";import{u as D,H as K}from"./chunk-7OLJDQMT-B2iVonpa.js";import{B as W}from"./chunk-UVUR7MCU-jy_K_3Vu.js";const P=r.lazy(()=>$(()=>import("./LoginRotate-ySgjwLn_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),te=()=>{const[a,q]=r.useState(!1),[f,J]=r.useState(""),R=F(),{replaceContent:k}=V(),_=U().shape({fname:i().required("First Name is required"),lname:i().required("Last Name is required"),email:i().email("Enter Valid Email").required("Email is required"),password:i().min(8,"At least 8 words").required("Password is required"),confirm:i().oneOf([z("password"),null],"Passwords must match").required("Confirm your password")}),{register:o,handleSubmit:A,watch:n,formState:{errors:s,isValid:Q},reset:B}=H({mode:"onSubmit",resolver:M(_)}),w=n("fname"),g=n("lname"),S=n("email");n("password"),n("confirm");const p=D(),C=r.useRef(),y=r.useRef(),E=r.useRef();r.useEffect(()=>{const h=setTimeout(()=>{const t=[C,y,E],u=[w,g,S];t.forEach((x,b)=>{x.current&&x.current.value!==u[b]&&(x.current.value=u[b])})},100);return()=>clearTimeout(h)},[w,g,S]);const L=async h=>{try{const t=await N.post("http://ec2-107-23-219-13.compute-1.amazonaws.com/signup/register",h);p({title:"Sign Up Success",description:"",status:"success",duration:2e3}),B(),setTimeout(()=>{k(e.jsx(P,{}))},2e3)}catch(t){if(console.error("Error:",t),t.response){const u=t.response.data||"An error occurred during sign up";p({title:"Sign Up Error",description:u,status:"error",duration:2e3})}else p({title:"Sign Up Error",description:"An unexpected error occurred. Please try again.",status:"error",duration:2e3})}},T=()=>q(!a),{setModalState:X}=r.useContext(I);return e.jsxs(e.Fragment,{children:[e.jsxs(v,{direction:"column",marginBottom:"2",justifyContent:"center",alignItems:"center",children:[e.jsx(K,{color:"teal.400",children:"Sign Up"}),e.jsx(c,{minW:{base:"90%",md:"468px"},children:e.jsx("form",{onSubmit:A(L),children:e.jsxs(v,{spacing:4,p:"1rem",backgroundColor:"white",boxShadow:"md",children:[e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"text",ref:C,placeholder:"First Name",...o("fname")})}),s.fname&&e.jsx("p",{children:s.fname.message})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"text",ref:y,placeholder:"Last Name",...o("lname")})}),s.lname&&e.jsx("p",{children:s.lname.message})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{type:"email",ref:E,placeholder:"Email Address",...o("email")})}),s.email&&e.jsx("p",{children:s.email.message}),f&&e.jsx("p",{children:f})]}),e.jsxs(j,{children:[e.jsx(l,{children:e.jsx(d,{children:e.jsx(m,{type:a?"text":"password",placeholder:"Password",...o("password")})})}),e.jsx(l,{children:e.jsx(d,{children:e.jsx(m,{type:a?"text":"password",placeholder:"Confirm Password",...o("confirm")})})})]}),e.jsxs(j,{width:"100%",justifyContent:"space-between",textStyle:"StyledText",fontSize:"1rem",color:"#000000",children:[e.jsxs(c,{children:[s.password&&e.jsx("p",{children:s.password.message}),!s.password&&s.confirm&&e.jsx("p",{children:s.confirm.message}),R?e.jsx("p",{children:"Caps Lock is active!"}):null]}),e.jsx(c,{justifyContent:"end",children:e.jsx(O,{size:"sm",isChecked:a,onChange:T,children:a?"Hide Password":"Show Password"})})]}),e.jsx(W,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Sign Up"})]})})})]}),e.jsx(c,{children:e.jsxs(j,{width:"fit-content",margin:"auto",children:[e.jsxs(c,{children:["Already have an account? "," "]}),e.jsx(G,{color:"teal.500",nest:!0,targetContent:e.jsx(P,{}),children:"Login"})]})})]})};export{te as default};
