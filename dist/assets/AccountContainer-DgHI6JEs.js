import{Q as j,j as e,B as d,R as y,U as b,W as r,s as c,V as x,r as o,q as w,H as A,Z as S,$ as T}from"./index-DK1BDKGD.js";import"./index-DVxGg5Dc.js";import{n as k}from"./navConfig-BpbbTEl9.js";import{T as D,a as B,b as f,c as C,d as I,e as n}from"./chunk-MGVPL3OH-DbclQ4QU.js";const R=({numCol:t,numRow:h,marginTop:s,backgroundColor:a})=>(j({xs:400,sm:576,md:768,lg:992,xl:1200,xxl:1400},{xxl:4,xl:4,lg:4,md:3,sm:2,xs:2,base:1}),j({xs:400,sm:576,md:768,lg:992,xl:1200,xxl:1400},{xxl:!0,xl:!0,lg:!0,md:!0,sm:!1,xs:!1,base:!1}),e.jsx(d,{margin:"3vh 0",width:"100%",height:"100%",children:e.jsxs(y,{templateColumns:"1fr 1fr",templateRows:"1",gridTemplateAreas:{md:`
                           "main orderSummary"
                           `,base:`
                           "main"
                           "orderSummary"
                           `},backgroundColor:`${a}`,marginTop:`${s}`,children:[e.jsxs(b,{gridArea:"main",fontSize:{base:"1.5em",[k.showNavSize]:"2em"},children:[e.jsxs(d,{children:[e.jsx(d,{padding:"0.5rem 1rem .75rem",children:e.jsx(r,{height:"20px",width:"30%",margin:"auto",borderRadius:"10px"})}),e.jsxs(c,{padding:"0.5rem 1rem .75rem",children:[e.jsx(r,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"}),e.jsx(r,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"}),e.jsx(r,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"})]})]}),e.jsx("hr",{}),e.jsxs(d,{children:[e.jsx(d,{padding:"0.5rem 1rem .75rem",children:e.jsx(r,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(x,{padding:"0.5rem 1rem .75rem",children:[e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]}),e.jsx("hr",{}),e.jsxs(d,{children:[e.jsx(d,{padding:"0.5rem 1rem .75rem",children:e.jsx(r,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(x,{padding:"0.5rem 1rem .75rem",children:[e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]})]}),e.jsx(b,{gridArea:"orderSummary",backgroundColor:"#f5f5f5",height:"80vh",children:e.jsxs(d,{children:[e.jsxs(c,{justifyContent:"space-around",children:[e.jsxs(c,{children:[e.jsx(d,{padding:"0.5rem 1rem .75rem",children:e.jsx(r,{height:"60px",width:"60px",borderRadius:"10px"})}),e.jsxs(x,{padding:"0.5rem 1rem .75rem",alignItems:"start",children:[e.jsx(r,{height:"15px",width:"100px",borderRadius:"10px"}),e.jsx(r,{height:"15px",width:"50px",borderRadius:"10px"})]})]}),e.jsx(r,{height:"20px",width:"15%",borderRadius:"10px"})]}),e.jsx(d,{padding:"0.5rem 1rem .75rem",children:e.jsx(r,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(x,{padding:"0.5rem 1rem .75rem",children:[e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(r,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]})})]})})),L=({initialData:t})=>{const[h,s]=o.useState([]),{fname:a,email:g,availableAccessToken:l}=w(),u=[{name:"order Number"},{name:"Order Date"},{name:"Quantity"},{name:"Price"}];return e.jsx(e.Fragment,{children:e.jsx(d,{children:e.jsxs(D,{width:"100%",children:[e.jsx(B,{children:e.jsx(f,{children:u.map(i=>e.jsx(e.Fragment,{children:e.jsx(C,{paddingLeft:"0",children:i.name})}))})}),e.jsx(I,{children:t.map((i,m)=>e.jsxs(f,{borderBottomWidth:"1px",gridTemplateAreas:{base:`
                                "orderNumber createdAt quantity price"
                                `},children:[e.jsx(n,{gridArea:"orderNumber",borderBottomWidth:{md:"1px",base:"0"},paddingLeft:"0",paddingRight:"0",children:e.jsx(A,{to:`./order/${i.orderUuid}`,children:e.jsxs(d,{textStyle:"StyledText",color:"#333333",textDecoration:"underline",children:["#",i.orderNumber]})})}),e.jsx(n,{gridArea:"createdAt",borderBottomWidth:{md:"1px",base:"0"},paddingLeft:"0",paddingRight:"0",children:e.jsx(d,{children:new Date(i.createdAt).toLocaleDateString()})}),e.jsx(n,{gridArea:"quantity",borderBottomWidth:{md:"1px",base:"0"},paddingLeft:"0",paddingRight:"0",children:e.jsx(d,{gridArea:"total",children:i.orderItem})}),e.jsx(n,{gridArea:"price",borderBottomWidth:{md:"1px",base:"0"},paddingLeft:"0",paddingRight:"0",children:e.jsxs(d,{children:["$",i.orderAmount]})})]},m))})]})})})},N=T`
query Myorderinfo($identifier: String) {
  myorderinfo(identifier: $identifier) {
      orderAmount
      orderItem
      payment
      createdAt
      orderNumber
      orderUuid
      itemInfo {
        baseAmount
      }
    }
}
`,O=()=>{const{identifier:t,isEmail:h}=w(),[s,a]=o.useState(null),[g,l]=o.useState(!0),{data:u,loading:i,error:m,refetch:$}=S(N,{variables:{identifier:t},fetchPolicy:"network-only",skip:!t||!h,onCompleted:p=>{setTimeout(()=>{a(p.myorderinfo),l(!1)},500)},onError:p=>{console.log(p),l(!1)}});return g||i||!s?e.jsx(R,{}):s.length===0?e.jsx(e.Fragment,{children:e.jsx(d,{children:"No Order Yet"})}):m?e.jsx(d,{children:"something went wrong"}):(console.log(s,"initialData"),e.jsx(o.Suspense,{fallback:e.jsx(R,{}),children:e.jsx(L,{initialData:s})}))};export{O as default};
