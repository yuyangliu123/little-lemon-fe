import{r as n,y as I,j as e,V as t,B as r,a0 as $,T as u,q as c,Q as y,R as C,U as R,W as s,a1 as M,Z as E,$ as B}from"./index-CSaA1nFA.js";import{T as S,a as L,b as o,c as h,d as T,e as i}from"./chunk-MGVPL3OH-CeA--B3C.js";import{n as q}from"./navConfig-BpbbTEl9.js";const m={orderImgWidth:"100"},v=({initialData:a})=>{const[j,l]=n.useState([]),{fname:x,email:p,availableAccessToken:f}=I();return e.jsx(e.Fragment,{children:e.jsxs(t,{width:"100%",children:[e.jsxs(t,{alignItems:"start",alignSelf:"start",textStyle:"StyledText",color:"#000000",children:[e.jsxs(r,{children:["ORDER #",a.orderNumber]}),e.jsxs(r,{children:["ORDER DATE ",new Date(a.createdAt).toLocaleDateString()]})]}),e.jsxs(t,{width:"100%",alignItems:"start",spacing:6,children:[e.jsx(r,{width:{xl:"75%",base:"100%"},children:e.jsxs(S,{display:{md:"table",base:"block"},width:"100%",children:[e.jsx(L,{display:{md:"table-header-group",base:"none"},children:e.jsxs(o,{children:[e.jsx(h,{colSpan:2,children:"Item"}),e.jsx(h,{children:"Price"}),e.jsx(h,{children:"Quantity"}),e.jsx(h,{children:"Total"})]})}),e.jsx(T,{display:{md:"table-row-group",base:"block"},children:a.itemInfo.map((d,g)=>e.jsxs(o,{borderBottomWidth:"1px",display:{md:"table-row",base:"grid"},gridTemplateAreas:{md:"none",sm:`
                                "img meal meal meal"
                                "img price quantity total"
                                `,base:`
                                    "img meal"
                                    "price price"
                                    "quantity quantity"
                                    "total total"
                                `},children:[e.jsx(i,{gridArea:"img",display:{md:"table-cell",base:"block"},borderBottomWidth:{md:"1px",base:"0"},width:`${m.orderImgWidth}px`,padding:{md:"1.5rem",base:"0"},children:e.jsx(r,{width:`${m.orderImgWidth}px`,children:e.jsx($,{src:d.strMealThumb,alt:d.strMeal,width:"auto",imgWidth:m.orderImgWidth,auto:"webp",height:`${m.orderImgWidth}px`,objectFit:"cover"})})}),e.jsx(i,{colSpan:1,gridArea:"meal",display:{md:"table-cell",base:"flex"},flexDirection:"row",borderBottomWidth:{md:"1px",base:"0"},alignItems:"center",paddingLeft:"0",paddingRight:"0",children:e.jsx(r,{textStyle:"StyledText",color:"#333333",children:d.strMeal})}),e.jsxs(i,{gridArea:"price",display:{md:"table-cell",base:"flex"},flexDirection:{md:"none",sm:"column",base:"row"},borderBottomWidth:{md:"1px",base:"0"},children:[e.jsx(u,{as:"span",display:{md:"none",base:"block"},marginRight:{md:"0",base:"1rem"},width:{sm:"100%",base:"33.33%"},align:{sm:"left",base:"right"},paddingLeft:"0",paddingRight:"0",children:"Price"}),e.jsxs(r,{children:["$",d.baseAmount]})]}),e.jsxs(i,{gridArea:"quantity",borderBottomWidth:{md:"1px",base:"0"},display:{md:"table-cell",base:"flex"},flexDirection:{md:"none",sm:"column",base:"row"},children:[e.jsx(u,{as:"span",display:{md:"none",base:"block"},marginRight:{md:"0",base:"1rem"},width:{sm:"100%",base:"33.33%"},align:{sm:"left",base:"right"},paddingLeft:"0",paddingRight:"0",children:"Quantity"}),e.jsx(r,{children:d.numMeal})]}),e.jsxs(i,{gridArea:"total",display:{md:"table-cell",base:"flex"},flexDirection:{md:"none",sm:"column",base:"row"},borderBottomWidth:{md:"1px",base:"0"},children:[e.jsx(u,{as:"span",display:{md:"none",base:"block"},marginRight:{md:"0",base:"1rem"},width:{sm:"100%",base:"33.33%"},align:{sm:"left",base:"right"},paddingLeft:"0",paddingRight:"0",children:"Total"}),e.jsx(c,{justifyContent:{md:"right",base:"none"},children:e.jsxs(r,{gridArea:"total",children:["$",Number((d.baseAmount*d.numMeal).toFixed(2))]})})]})]},g))})]})}),e.jsx(r,{width:{xl:"25%",md:"50%",base:"100%"},children:e.jsx(S,{children:e.jsxs(T,{children:[e.jsxs(o,{children:[e.jsx(i,{children:"Subtotal"}),e.jsx(i,{children:a.orderAmount})]}),e.jsxs(o,{children:[e.jsx(i,{children:"Grand total"}),e.jsx(i,{})]})]})})})]})]})})},A=({numCol:a,numRow:j,marginTop:l,backgroundColor:x})=>(y({xs:400,sm:576,md:768,lg:992,xl:1200,xxl:1400},{xxl:4,xl:4,lg:4,md:3,sm:2,xs:2,base:1}),y({xs:400,sm:576,md:768,lg:992,xl:1200,xxl:1400},{xxl:!0,xl:!0,lg:!0,md:!0,sm:!1,xs:!1,base:!1}),e.jsx(r,{margin:"3vh 0",width:"100%",height:"100%",children:e.jsxs(C,{templateColumns:"1fr 1fr",templateRows:"1",gridTemplateAreas:{md:`
                           "main orderSummary"
                           `,base:`
                           "main"
                           "orderSummary"
                           `},backgroundColor:`${x}`,marginTop:`${l}`,children:[e.jsxs(R,{gridArea:"main",fontSize:{base:"1.5em",[q.showNavSize]:"2em"},children:[e.jsxs(r,{children:[e.jsx(r,{padding:"0.5rem 1rem .75rem",children:e.jsx(s,{height:"20px",width:"30%",margin:"auto",borderRadius:"10px"})}),e.jsxs(c,{padding:"0.5rem 1rem .75rem",children:[e.jsx(s,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"}),e.jsx(s,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"}),e.jsx(s,{height:{xxl:"40px",base:"40px"},width:"100%",borderRadius:"10px"})]})]}),e.jsx("hr",{}),e.jsxs(r,{children:[e.jsx(r,{padding:"0.5rem 1rem .75rem",children:e.jsx(s,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(t,{padding:"0.5rem 1rem .75rem",children:[e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]}),e.jsx("hr",{}),e.jsxs(r,{children:[e.jsx(r,{padding:"0.5rem 1rem .75rem",children:e.jsx(s,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(t,{padding:"0.5rem 1rem .75rem",children:[e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]})]}),e.jsx(R,{gridArea:"orderSummary",backgroundColor:"#f5f5f5",height:"80vh",children:e.jsxs(r,{children:[e.jsxs(c,{justifyContent:"space-around",children:[e.jsxs(c,{children:[e.jsx(r,{padding:"0.5rem 1rem .75rem",children:e.jsx(s,{height:"60px",width:"60px",borderRadius:"10px"})}),e.jsxs(t,{padding:"0.5rem 1rem .75rem",alignItems:"start",children:[e.jsx(s,{height:"15px",width:"100px",borderRadius:"10px"}),e.jsx(s,{height:"15px",width:"50px",borderRadius:"10px"})]})]}),e.jsx(s,{height:"20px",width:"15%",borderRadius:"10px"})]}),e.jsx(r,{padding:"0.5rem 1rem .75rem",children:e.jsx(s,{height:"20px",width:"20%",borderRadius:"10px"})}),e.jsxs(t,{padding:"0.5rem 1rem .75rem",children:[e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"}),e.jsx(s,{height:{xxl:"20px",base:"20px"},width:"100%",borderRadius:"10px"})]})]})})]})})),N=B`
query Orderdetail($identifier: String, $uuid: String) {
  orderdetail(identifier: $identifier, uuid: $uuid) {
      orderAmount
      orderItem
      payment
      createdAt
      orderNumber
      orderUuid
      itemInfo {
        strMeal
        numMeal
        baseAmount
        cartAmount
        strMealThumb
      }
    }
}
`,z=()=>{const[a,j]=n.useState([]),{identifier:l,isEmail:x}=I(),{uuid:p}=M(),f=decodeURIComponent(p),[d,g]=n.useState(null),[k,w]=n.useState(!0),{data:D,loading:W,error:O,refetch:Q}=E(N,{variables:{identifier:l,uuid:f},fetchPolicy:"network-only",skip:!l||!x||!p,onCompleted:b=>{setTimeout(()=>{g(b.orderdetail[0]),w(!1)},500)},onError:b=>{console.log(b),w(!1)}});return console.log(d,"data"),k||W||!d?e.jsx(A,{}):d.length===0?e.jsx(e.Fragment,{children:e.jsx(r,{children:"No Order Yet"})}):O?e.jsx(r,{children:"something went wrong"}):e.jsx(n.Suspense,{fallback:e.jsx(A,{}),children:e.jsx(v,{initialData:D.orderdetail[0]})})};export{z as default};
